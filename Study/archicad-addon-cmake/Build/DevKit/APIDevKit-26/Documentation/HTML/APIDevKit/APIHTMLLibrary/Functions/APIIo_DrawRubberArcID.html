<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
    <title>APIIo_DrawRubberArcID</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="Author" content="###_author_###">

    <meta http-equiv="Content-Language" content="en-US">
    <link rel="stylesheet" type="text/css" href="../../StyleLibrary/Style.css">
    <script type="text/javascript" src="../../StyleLibrary/Java.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/TOCscript.js"></script>
    <script type="text/javascript">
      LEVELSTR = "../../";
      ICONPATH = LEVELSTR + "StyleLibrary/Images/Treeview/";
    </script>
    <script type="text/javascript" src="../../StyleLibrary/TOC.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/tree_tpl.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/tree.js"></script>
    <meta name="Microsoft.Help.F1" content="APIHTMLLibrary/Functions/APIIo_DrawRubberArcID.html">
    <xml>
      <MSHelp:Attr Name = "DocSet" Value = "Graphisoft"/>
    </xml>
</head>
<body>
<div id="docBegin">
  <p id="graphisoft_title">&nbsp;<span>Graphisoft&reg;</span></p>
  <p class="hdr"><span class="TitleMain">API&nbsp;Development&nbsp;Kit</span><span class="TitleVersion">Version: 26</span></p>
</div>
<div id="content" class="inset">
          <script type="text/javascript">
            insertTOC ();
          </script>


    <h1>APIIo_DrawRubberArcID</h1>

    <p>Draws graphical feedback during an input process.</p>
    <pre class="syntax">
    <strong>GSErrCode <a href="acapi_interface_id.html">ACAPI_Interface</a></strong> (
        <strong>APIIo_DrawRubberArcID</strong>,
        <strong><a href="../Structures/API_RubberArcType.html">API_RubberArcType</a>*</strong>     <em>rubberArc</em>
    );
</pre>

    <p>&nbsp;</p>

    <h4>Parameters</h4>

    <dl>
        <dt><em>rubberArc</em></dt>

        <dd>[in] Definition of the arc (circle or elliptic) to be drawn.</dd>
    </dl>

    <p>&nbsp;</p>

    <h4>Return Values</h4>

    <dl>
        <dt><code>NoError</code></dt>

        <dd>The function has completed with success.</dd>

        <dt><code>APIERR_GENERAL</code></dt>

        <dd>no rubber line callback function has been defined</dd>

        <dt><code>APIERR_BADPARS</code></dt>

        <dd><code>rubberArc-&gt;arcType</code> is neither <code>APIRubberArc_OrigoAngles</code> nor <code>APIRubberArc_ThreePoint</code></dd>
    </dl>

    <p>For other common API errors see the <a href="../Level2/Error_Codes.html">API Errors</a> document.</p>

    <p>&nbsp;</p>

    <h4>Remarks</h4>

    <p>This function is used to draw rubber arcs while a user input. The function can be called only from the <a href="RubberLineInfoProc.html">RubberLineInfoProc</a> passed to the given input function; <a href="APIIo_GetPointID.html">APIIo_GetPointID</a> or <a href="APIIo_GetLineID.html">APIIo_GetLineID</a> or <a href="APIIo_GetArcID.html">APIIo_GetArcID</a> or <a href="APIIo_GetPolyID.html">APIIo_GetPolyID</a>.</p>

    <p>The arc is defined with the coordinate of the center point, the radius (or 'a' if ellipse), the beginning angle of the arc and the ending angle of the arc or with the coordinate of the center point, the beginning point of the arc, the ending point of the arc and the sign of the arc's angle (see <a href="../Structures/API_RubberArcType.html">API_RubberArcType</a>).</p>

    <h4>Example</h4>

    <blockquote>
        <pre><code>
#define         PI                      3.141592653589793

/*------------------------------------------------------**
** Callback function to draw the rubber lines           **
**------------------------------------------------------*/
static void __ACENV_CALL    RubberLineCallBack (const API_RubberLineInfo *info)

{
    API_RubberArcType  rubberArc;

    BNZeroMemory (&amp;rubberArc, sizeof (API_RubberArcType));

    rubberArc.lineThick = APIRubberLine_Simple;
    /* draws a unit circle around the actual cursor position */

    rubberArc.arcType = APIRubberArc_OrigoAngles;
    rubberArc.arc2D.r = crossWidth;
    rubberArc.arc2D.angle = 0.0;
    rubberArc.arc2D.ratio = 1.0;
    rubberArc.arc2D.begAng = 0;
    rubberArc.arc2D.endAng = 2 * PI;
    rubberArc.origC = info-&gt;actCoord;
    ACAPI_Interface (APIIo_DrawRubberArcID, &amp;rubberArc, nullptr);
    return;
}

/*------------------------------------------------------**
** Filtered point input with rubberline feedback        **
**------------------------------------------------------*/
void    PutColumnOnAHotspot (void)

{
    GSErrCode           err;
    API_GetPointType    pointInfo;
    API_Element         elem;

    BNZeroMemory (&amp;pointInfo, sizeof (API_GetPointType));
    CHCopyC ("Click onto a hotspot to create column", pointInfo.prompt);

    pointInfo.changeFilter = true;        /* let the cursor gravitate to hotspot neigs only */
    ACAPI_Interface (APIIo_InitNeigFilterID, pointInfo.filter, (void *) APIInitNeigFilter_Empty);
    ACAPI_Interface (APIIo_SetNeigFilterID, pointInfo.filter, (void *) APINeig_Hot);

    err = ACAPI_Interface (APIIo_GetPointID, &amp;pointInfo, (void *) RubberLineCallBack);

    if (err) {
        if (err == APIERR_CANCEL)
            ACAPI_WriteReport ("Input was interrupted", true);
        else
            ACAPI_WriteReport ("Error in GetPoint", true);
    } else {
        if (pointInfo.neig.neigID != APINeig_Hot) {
            ACAPI_WriteReport ("There is no hotspot at the clicked position", true);
        } else {
            BNZeroMemory (&amp;elem, sizeof (API_Element));
            elem.header.type = API_ColumnID;
            err = ACAPI_Element_GetDefaults (&amp;elem, nullptr);
            if (err == NoError) {
                elem.column.origoPos.x = pointInfo.pos.x;
                elem.column.origoPos.y = pointInfo.pos.y;
                err = ACAPI_Element_Create (&amp;elem, nullptr);
            }
        }
    }

    return;
}
</code></pre>
    </blockquote>

    <p>&nbsp;</p>

    <h4>Requirements</h4>

    <dl>
        <dd><b>Version:</b> API 4.1 or later</dd>

        <dd><b>Header:</b> APIdefs_Interface.h</dd>
    </dl>

    <p>&nbsp;</p>

    <h4>See Also</h4>

    <p><a href="../Structures/API_RubberArcType.html">API_RubberArcType</a>,<br>
    <a href="APIIo_GetPointID.html">APIIo_GetPointID</a>, <a href="APIIo_GetLineID.html">APIIo_GetLineID</a>, <a href="APIIo_GetArcID.html">APIIo_GetArcID</a>, <a href="APIIo_GetPolyID.html">APIIo_GetPolyID</a>,<br>
    <a href="APIIo_DrawRubberLineID.html">APIIo_DrawRubberLineID</a>, <a href="RubberLineInfoProc.html">RubberLineInfoProc</a>,<br>
    <a href="acapi_interface_id.html">ACAPI_Interface</a>, <a href="API_Functions.html">API Functions</a></p>

    

</div>
<div id="footer">
    <p class="hdr1">      <span class="Credits">Copyright &copy; 2022 - GRAPHISOFT SE. All rights reserved worldwide. <br />Modified on April 1, 2002<br/>
      </span>
    </p>
    <p id="toplink"><a href="#docBegin"><img src="../../StyleLibrary/Images/top.gif" alt="top" width="31" height="14" id="toTopImg" /></a></p>
</div>
</body>
</html>
