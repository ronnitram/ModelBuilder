<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
    <title>Required Resources</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta http-equiv="Content-Language" content="en-US">
    <meta name="Author" content="GRAPHISOFT SE">
    <link rel="stylesheet" type="text/css" href="../../StyleLibrary/Style.css">
    <script type="text/javascript" src="../../StyleLibrary/Java.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/TOCscript.js"></script>
    <script type="text/javascript">
      LEVELSTR = "../../";
      ICONPATH = LEVELSTR + "StyleLibrary/Images/Treeview/";
    </script>
    <script type="text/javascript" src="../../StyleLibrary/TOC.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/tree_tpl.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/tree.js"></script>
    <meta name="Microsoft.Help.F1" content="APIHTMLLibrary/Level2/Required_Resources.html">
    <xml>
      <MSHelp:Attr Name = "DocSet" Value = "Graphisoft"/>
    </xml>
</head>
<body>
<div id="docBegin">
  <p id="graphisoft_title">&nbsp;<span>Graphisoft&reg;</span></p>
  <p class="hdr"><span class="TitleMain">API&nbsp;Development&nbsp;Kit</span><span class="TitleVersion">Version: 26</span></p>
</div>
<div id="content" class="inset">
          <script type="text/javascript">
            insertTOC ();
          </script>


    <h1>Required Resources</h1>

    <p>&nbsp;</p>

    <h3>The 'MDID' resource</h3>

    <p>All add-ons must have a resource named <code>'<a href="../Resources/MDID.html"><code>MDID</code></a>'</code> with a resource ID of 32500. This resource defines the unique ID of the add-on.</p>

    <p>The ID is composed from two parts:</p>

    <ul>
        <li>the ID of the developer, given by Graphisoft</li>

        <li>the ID of the add-on, generated by the developer inside the <a href="Invalid link: https://archicadapi.graphisoft.com/profile/addons">developer's profile at the Archicad API Site</a></li>
    </ul>

    <p>It is primary used by the <!--NoCHM--><a href="../Level3/Communication_Manager_id.html">Communication Manager</a> and the <!--NoCHM--><a href="../Level3/ModulData_Manager_id.html">ModulData Manager</a> to identify the target add-on. Starting with DevKit v4.1, the module ID is used in many areas of add-on identification (though it is not always visible), from storing preferences to assigning custom data to elements.</p>

    <p>In order to avoid collisions Archicad will refuse to load those add-ons, whose <code>'<a href="../Resources/MDID.html"><code>MDID</code></a>'</code> resources are identical.</p>

    <p>Please refer to the <a href="../Level1/Registration.html">Registration</a> paper to have further details how to get your registration ID.</p>

    <h3>&nbsp;</h3>

    <h3>The 'STR#' resource</h3>

    <p>This resource is not required (in the term that Archicad interprets your DLL/Code fragment as a valid Archicad add-on) but strictly necessary in most cases. Archicad uses these string resources to build up the menus, or popup items related to your commands. A special resource should also contain some information about your add-on (a short description and a name which appear in the Add-On Manager dialog); see the example projects.</p>

    <p>You can find more example <code>'STR#'</code> resources at the description of <a href="../Functions/ACAPI_Register_Menu.html">ACAPI_Register_Menu</a>.</p>

    <blockquote>
        <pre><code>
'STR#' 32500 "Menu strings" {
/* [  1] */     "Database Tracker"
/* [  2] */         "Enable red walls^32601"
/* [  3] */         "-"
/* [  4] */         "Enable column links"
/* [  5] */         "List links (selection)^S"
/* [  6] */         "List links (database)"
/* [  7] */         "-"
/* [  8] */         "List walls with assignments"
}
</code></pre>
    </blockquote>

    <p>You can see that the name of the first command ends with the string "^32601". This extension instructs Archicad to assign a custom picture to the given menu item. The picture itself must be an icon resource ('<code>GICN</code>') with the resource ID following the ^ character. Of course the extension string will not appear in the appropriate menu.<br>
    From Archicad 8 this menu item icon appears in the menu by default. If you do not want this icon to be shown in the menu, insert a ~ (tilde) character before the icon ID number, like this "^~32601".</p>

    <p>Other control codes can be appended after the menu item strings to control the availability of the command. The following values are possible:</p>

    <blockquote>
        <table border="1" cellpadding="5">
            <tr>
                <th nowrap>
                    <p>Control code</p>
                </th>

                <th>
                    <p>Meaning</p>
                </th>
            </tr>

            <tr>
                <td>
                    <p><code>^D2</code></p>
                </td>

                <td>
                    <p>The command is disabled above the floor plan window</p>
                </td>
            </tr>

            <tr>
                <td>
                    <p><code>^E3</code></p>
                </td>

                <td>
                    <p>The command is enabled above the 3D window</p>
                </td>
            </tr>

            <tr>
                <td>
                    <p><code>^ES</code></p>
                </td>

                <td>
                    <p>The command is enabled above section type windows</p>
                </td>
            </tr>

            <tr>
                <td>
                    <p><code>^EE</code></p>
                </td>

                <td>
                    <p>The command is enabled above elevation type windows</p>
                </td>
            </tr>

            <tr>
                <td>
                    <p><code>^EI</code></p>
                </td>

                <td>
                    <p>The command is enabled above interior elevation type windows</p>
                </td>
            </tr>

            <tr>
                <td>
                    <p><code>^ED</code></p>
                </td>

                <td>
                    <p>The command is enabled above detail drawing windows <img border="0" src="../../APIImageLibrary/41.png" alt="4.1" width="19" height="12"></p>
                </td>
            </tr>

            <tr>
                <td>
                    <p><code>^EL</code></p>
                </td>

                <td>
                    <p>The command is enabled above layout and master layout windows <img border="0" src="../../APIImageLibrary/10.png" alt="Featuring API 10" width="19" height="12"></p>
                </td>
            </tr>

            <tr>
                <td>
                    <p><code>^EW</code></p>
                </td>

                <td>
                    <p>The command is enabled above worksheet windows</p>
                </td>
            </tr>

            <tr>
                <td>
                    <p><code>^ET</code></p>
                </td>

                <td>
                    <p>The command is enabled above 3D document windows</p>
                </td>
            </tr>
			
			<tr>
                <td>
                    <p><code>^EM</code></p>
                </td>

                <td>
                    <p>The command is enabled above Model Compare windows</p>
                </td>
            </tr>

            <tr>
                <td>
                    <p><code>^G</code></p>
                </td>

                <td>
                    <p>The menu item is disabled (grayed) by default</p>
                </td>
            </tr>

            <tr>
                <td>
                    <p><code>^M</code></p>
                </td>

                <td>
                    <p>The menu item is checked (has a check mark) by default</p>
                </td>
            </tr>

            <tr>
                <td>
                    <p><code>^R</code></p>
                </td>

                <td>
                    <p>The command is repeatable, that is after calling the menu command it will be available from the "Repeat Last Command" item of the Edit menu as well. This capability can be useful, if an add-on command should be called several times again and again. <img border="0" src="../../APIImageLibrary/41.png" alt="4.1" width="19" height="12"></p>
                </td>
            </tr>

            <tr>
                <td>
                    <p><code>^S</code></p>
                </td>

                <td>
                    <p>The command is available only when there are selected elements in the current window</p>
                </td>
            </tr>

            <tr>
                <td>
                    <p><code>^T</code></p>
                </td>

                <td>
                    <p>The command is disabled in TeamWork mode if the current window (story, section, detail, layout) does not belong to the client's workspace <img border="0" src="../../APIImageLibrary/10.png" alt="Featuring API 10" width="19" height="12"></p>
                </td>
            </tr>
        </table>
    </blockquote>

    <p>&nbsp;</p>

    <p>The file import/export type add-on requires a string which describes your file format, and appears in the lists of the import/export dialogs.</p>

    <blockquote>
        <pre><code>
'STR#' 32501 "File type popup string" {
/* [  1] */     "My file format"
}
</code></pre>
    </blockquote>

    <p>For more details see the description of the <a href="../Functions/ACAPI_Register_FileType.html">ACAPI_Register_FileType</a> function.</p>

    <p>&nbsp;</p>

    <p>Every file dialog of Archicad contain an item which shows an icon assigned to the selected file format. You can assign a custom icon to your file format by including an <code>'#ICN'</code> resource also. This feature is implemented on Macintosh only.</p>

    <p>Of course you can add more <code>'STR#'</code> string resources with different resource IDs. These strings can be loaded with the <a href="../Functions/ACAPI_Resource_GetLocStr.html">ACAPI_Resource_GetLocStr</a> or the <a href="../Functions/ACAPI_Resource_GetLocUStr.html">ACAPI_Resource_GetLocUStr</a> function.</p>

    <h3>&nbsp;</h3>

    <p>The Graphisoft Dialog Manager (DG) are also using some custom resource types. Their reference papers can be found in Dialog Manager documentation.</p>

    

</div>
<div id="footer">
    <p class="hdr1">      <span class="Credits">Copyright &copy; 2022 - GRAPHISOFT SE. All rights reserved worldwide. <br />Modified on March 7, 2012<br/>
      </span>
    </p>
    <p id="toplink"><a href="#docBegin"><img src="../../StyleLibrary/Images/top.gif" alt="top" width="31" height="14" id="toTopImg" /></a></p>
</div>
</body>
</html>
