<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
    <title>APIIo_GetArcID</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="Author" content="###_author_###">

    <meta http-equiv="Content-Language" content="en-US">
    <link rel="stylesheet" type="text/css" href="../../StyleLibrary/Style.css">
    <script type="text/javascript" src="../../StyleLibrary/Java.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/TOCscript.js"></script>
    <script type="text/javascript">
      LEVELSTR = "../../";
      ICONPATH = LEVELSTR + "StyleLibrary/Images/Treeview/";
    </script>
    <script type="text/javascript" src="../../StyleLibrary/TOC.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/tree_tpl.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/tree.js"></script>
    <meta name="Microsoft.Help.F1" content="APIHTMLLibrary/Functions/APIIo_GetArcID.html">
    <xml>
      <MSHelp:Attr Name = "DocSet" Value = "Graphisoft"/>
    </xml>
</head>
<body>
<div id="docBegin">
  <p id="graphisoft_title">&nbsp;<span>Graphisoft&reg;</span></p>
  <p class="hdr"><span class="TitleMain">API&nbsp;Development&nbsp;Kit</span><span class="TitleVersion">Version: 26</span></p>
</div>
<div id="content" class="inset">
          <script type="text/javascript">
            insertTOC ();
          </script>


    <h1>APIIo_GetArcID</h1>

    <p>Performs an arc input.</p>
    <pre class="syntax">
    <strong>GSErrCode <a href="acapi_interface_id.html">ACAPI_Interface</a></strong> (
        <strong>APIIo_GetArcID</strong>,
        <strong><a href="../Structures/API_GetArcType.html">API_GetArcType</a>*</strong>         <em>arcInfo</em>,
        <strong><a href="RubberLineInfoProc.html">RubberLineInfoProc</a>*</strong>     <em>rubberLineInfoProc</em>
    );
</pre>

    <p>&nbsp;</p>

    <h4>Parameters</h4>

    <dl>
        <dt><em>arcInfo</em></dt>

        <dd>[in/out] Parameters of the arc input operation.</dd>

        <dt><em>rubberLineInfoProc</em></dt>

        <dd>[in] Callback function for custom feedback drawing.</dd>
    </dl>

    <p>&nbsp;</p>

    <h4>Return Values</h4>

    <dl>
        <dt><code>NoError</code></dt>

        <dd>The function has completed with success.</dd>

        <dt><code>APIERR_BADPARS</code></dt>

        <dd><code>arcInfo</code> is nullptr</dd>

        <dt><code>APIERR_BADPLANE</code></dt>

        <dd>invalid plane definition in <code>arcInfo</code></dd>

        <dt><code>APIERR_BADWINDOW</code></dt>

        <dd>the operation cannot be performed in the current front window of the application</dd>

        <dt><code>APIERR_CANCEL</code></dt>

        <dd>the input was canceled by the user</dd>
    </dl>

    <p>For other common API errors see the <a href="../Level2/Error_Codes.html">API Errors</a> document.</p>

    <p>&nbsp;</p>

    <h4>Remarks</h4>

    <p>This function is used to let the user input an arc graphically.</p>

    <p>If the input process has failed, the function returns <code>APIERR_CANCEL</code>. Otherwise the result is returned in the <code>startCoord</code> (if the start coordinate has not been given before the arc input), <code>negArc</code>, <code>pos</code> and <code>neig</code> fields of <code>arcInfo</code>.</p>

    <p>The center point and the start point of the arc can be defined directly, or entered graphically with the <a href="APIIo_GetPointID.html">APIIo_GetPointID</a> and <a href="APIIo_GetLineID.html">APIIo_GetLineID</a> interface functions.</p>

    <p>The prompt string displayed in the control box which can contain instructions about the action. You can control the cursor gravity above neigs and the cursor shapes, and set the input plane. There is a possibility of drawing own graphical feedback during the input with passing a pointer to your rubber line callback function. For more details on the utilization refer to the documentation of the <a href="../Structures/API_GetArcType.html">API_GetArcType</a> structure.</p>

    <p>Do not invoke any input operation while there are modal dialogs open.</p>

    <p>&nbsp;</p>

    <h4>Example</h4>

    <blockquote>
        <pre><code>
API_GetPointType    pointInfo;
API_GetLineType     lineInfo;
API_GetArcType      arcInfo;
char                buffer [256];
GSErrCode           err;

BNZeroMemory (&amp;pointInfo, sizeof (API_GetPointType));
BNZeroMemory (&amp;lineInfo, sizeof (API_GetLineType));
BNZeroMemory (&amp;arcInfo, sizeof (API_GetArcType));

CHCopyC ("Click the arc center point", pointInfo.prompt);
pointInfo.changeCursorSet = true;

/* show cross cursors suggesting the center point */
pointInfo.cursorSet.nothingOnCursor     = APICursor_XPoint;
pointInfo.cursorSet.pointOnCursor       = APICursor_ArrowXPoint;
pointInfo.cursorSet.lineOnCursor        = APICursor_PencilXPoint;
pointInfo.cursorSet.refPointOnCursor    = APICursor_ArrowXPoint;
pointInfo.cursorSet.refLineOnCursor     = APICursor_PencilXPoint;
pointInfo.cursorSet.crossOnCursor       = APICursor_ArrowXPoint;
pointInfo.cursorSet.normalOnCursor      = APICursor_PencilXPoint;
pointInfo.cursorSet.tangentOnCursor     = APICursor_ArrowXPoint;

err = ACAPI_Interface (APIIo_GetPointID, &amp;pointInfo, nullptr);

if (!err) {
    CHCopyC ("Enter the arc start point", lineInfo.prompt);
    lineInfo.startCoord = pointInfo.pos;
    lineInfo.changeCursorSet = true;

    /* use hand cursors for drawing the radius of the arc */
    lineInfo.cursorSet.nothingOnCursor  = APICursor_Hand;
    lineInfo.cursorSet.pointOnCursor    = APICursor_MiniHand;
    lineInfo.cursorSet.lineOnCursor     = APICursor_MiniHand;
    lineInfo.cursorSet.refPointOnCursor = APICursor_MiniHand;
    lineInfo.cursorSet.refLineOnCursor  = APICursor_MiniHand;
    lineInfo.cursorSet.crossOnCursor    = APICursor_MiniHand;
    lineInfo.cursorSet.normalOnCursor   = APICursor_MiniHand;
    lineInfo.cursorSet.tangentOnCursor  = APICursor_MiniHand;

    err = ACAPI_Interface (APIIo_GetLineID, &amp;lineInfo, nullptr);
}

if (!err) {
    CHCopyC ("Enter the arc end point", arcInfo.prompt);
    arcInfo.origo = lineInfo.startCoord;
    arcInfo.startCoord = lineInfo.pos;
    arcInfo.startCoordGiven = true;
    arcInfo.changeCursorSet = true;

    /* use eye cursors for getting the arc */
    arcInfo.cursorSet.nothingOnCursor   = APICursor_Eye;
    arcInfo.cursorSet.pointOnCursor     = APICursor_DoubleEye;
    arcInfo.cursorSet.lineOnCursor      = APICursor_DoubleEye;
    arcInfo.cursorSet.refPointOnCursor  = APICursor_DoubleEye;
    arcInfo.cursorSet.refLineOnCursor   = APICursor_DoubleEye;
    arcInfo.cursorSet.crossOnCursor     = APICursor_DoubleEye;
    arcInfo.cursorSet.normalOnCursor    = APICursor_DoubleEye;
    arcInfo.cursorSet.tangentOnCursor   = APICursor_DoubleEye;

    err = ACAPI_Interface (APIIo_GetArcID, &amp;arcInfo, nullptr);
}

if (!err) {
    sprintf (buffer, "Origo coordinates:  (%Lf, %Lf)", arcInfo.origo.x, arcInfo.origo.y);
    ACAPI_WriteReport (buffer, false);
    if (arcInfo.negArc)
        sprintf (buffer, "Arc begins:  (%Lf, %Lf)\nArc ends:    (%Lf, %Lf)",
                arcInfo.pos.x, arcInfo.pos.y, arcInfo.startCoord.x, arcInfo.startCoord.y);
    else
        sprintf (buffer, "Arc begins:  (%Lf, %Lf)\nArc ends:    (%Lf, %Lf)",
                arcInfo.startCoord.x, arcInfo.startCoord.y, arcInfo.pos.x, arcInfo.pos.y);
    ACAPI_WriteReport (buffer, false);
} else if (err == APIERR_CANCEL)
    ACAPI_WriteReport ("Input was interrupted", true);
</code></pre>
    </blockquote>

    <p>&nbsp;</p>

    <h4>Requirements</h4>

    <dl>
        <dd><b>Version:</b> API 2.1 or later</dd>

        <dd><b>Header:</b> APIdefs_Interface.h</dd>
    </dl>

    <p>&nbsp;</p>

    <h4>See Also</h4>

    <p><a href="../Structures/API_GetArcType.html">API_GetArcType</a>,<br>
    <a href="RubberLineInfoProc.html">RubberLineInfoProc</a>, <a href="APIIo_DrawRubberLineID.html">APIIo_DrawRubberLineID</a>, <a href="APIIo_GetPointID.html">APIIo_GetPointID</a>, <a href="APIIo_GetLineID.html">APIIo_GetLineID</a>, <a href="APIIo_GetPolyID.html">APIIo_GetPolyID</a>,<br>
    <a href="acapi_interface_id.html">ACAPI_Interface</a>, <a href="API_Functions.html">API Functions</a></p>

    

</div>
<div id="footer">
    <p class="hdr1">      <span class="Credits">Copyright &copy; 2022 - GRAPHISOFT SE. All rights reserved worldwide. <br />Modified on December 1, 1999<br/>
      </span>
    </p>
    <p id="toplink"><a href="#docBegin"><img src="../../StyleLibrary/Images/top.gif" alt="top" width="31" height="14" id="toTopImg" /></a></p>
</div>
</body>
</html>
