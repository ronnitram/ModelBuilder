<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd">
ï»¿<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
    <title>Command Overview</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <meta http-equiv="Content-Language" content="en-US">
    <meta name="Author" content="GRAPHISOFT SE">
    <link rel="stylesheet" type="text/css" href="../../StyleLibrary/Style.css">
    <script type="text/javascript" src="../../StyleLibrary/Java.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/TOCscript.js"></script>
    <script type="text/javascript">
      LEVELSTR = "../../";
      ICONPATH = LEVELSTR + "StyleLibrary/Images/Treeview/";
    </script>
    <script type="text/javascript" src="../../StyleLibrary/TOC.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/tree_tpl.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/tree.js"></script>
    <meta name="Microsoft.Help.F1" content="APIHTMLLibrary/Level2/Command_Overview.html">
    <xml>
      <MSHelp:Attr Name = "DocSet" Value = "Graphisoft"/>
    </xml>
</head>
<body>
<div id="docBegin">
  <p id="graphisoft_title">&nbsp;<span>Graphisoft&reg;</span></p>
  <p class="hdr"><span class="TitleMain">API&nbsp;Development&nbsp;Kit</span><span class="TitleVersion">Version: 26</span></p>
</div>
<div id="content" class="inset">
          <script type="text/javascript">
            insertTOC ();
          </script>


    <h1>Command Overview</h1>

    <p>&nbsp;</p>

    <p>Archicad uses the <b>command</b> concept to represent and execute a user operation. All data structure modifications (except IO processes) should be performed during command execution. In case of element change notifications, the command is started, executed and managed by Archicad. Add-ons also can start and execute commands.</p>

    <p>In case of undoable operations all modifications should be done in a lambda function which is executed by <a href="../Functions/ACAPI_CallUndoableCommand.html">ACAPI_CallUndoableCommand</a>.<br>
    Undoable commands can be executed only from the main thread. Use <a href="../Functions/ACAPI_Command_CallFromEventLoop.html">ACAPI_Command_CallFromEventLoop</a> mechanism to pass the control to the main thread.</p>

    <p>There are two possibilities to modify non-undoable data structures:</p>
    <ul>
        <li>in order to execute several modification functions as a single command, group them with an <a href="../Functions/ACAPI_CallCommand.html">ACAPI_CallCommand</a> call</li>
        <li>call every function as in the past. In this case every command will be treated as a separate command by Archicad, which means that all necessary derived data calculations, screen refresh, etc. will be performed after each function call.</li>
    </ul>

    <p>Nested command execution is forbidden: you cannot start a new command execution when an existing command is still running.</p>

    <p>Complete operations (i.e. opening a plan) cannot be called during command execution, as they may execute several commands themselves.</p>

    <p>Because of the command concept, new rules are introduced for API functions. The API functions are divided into four groups:</p>

    <ul>
        <li> <b>Functions that don't modify data structures</b> - there are no special rules for them.</li>

        <li> <b>Undoable data structure modifier functions (i.e. elem operations)</b> - these functions can only be called during undoable commands (started by Archicad or an add-on)</li>

        <li> <b>Non-undoable data structure modifier functions (i.e. attributes, environment functions)</b> - these functions can be called from a batch operation using <a href="../Functions/ACAPI_CallCommand.html">ACAPI_CallCommand</a>, and also can be called standalone.</li>

        <li> <b>Complete operations</b> - these functions perform complete operations, so they cannot be called neither during undoable operations nor during non-undoable commands.</li>
    </ul>

    

</div>
<div id="footer">
    <p class="hdr1">      <span class="Credits">Copyright &copy; 2022 - GRAPHISOFT SE. All rights reserved worldwide. <br />Modified on May 29, 2022<br/>
      </span>
    </p>
    <p id="toplink"><a href="#docBegin"><img src="../../StyleLibrary/Images/top.gif" alt="top" width="31" height="14" id="toTopImg" /></a></p>
</div>
</body>
</html>
