<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd">
ï»¿<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
    <title>APIDb_RoomReductionsID</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="Author" content="###_author_###">

    <meta http-equiv="Content-Language" content="en-US">
    <link rel="stylesheet" type="text/css" href="../../StyleLibrary/Style.css">
    <script type="text/javascript" src="../../StyleLibrary/Java.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/TOCscript.js"></script>
    <script type="text/javascript">
      LEVELSTR = "../../";
      ICONPATH = LEVELSTR + "StyleLibrary/Images/Treeview/";
    </script>
    <script type="text/javascript" src="../../StyleLibrary/TOC.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/tree_tpl.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/tree.js"></script>
    <meta name="Microsoft.Help.F1" content="APIHTMLLibrary/Functions/APIDb_RoomReductionsID.html">
    <xml>
      <MSHelp:Attr Name = "DocSet" Value = "Graphisoft"/>
    </xml>
</head>
<body>
<div id="docBegin">
  <p id="graphisoft_title">&nbsp;<span>Graphisoft&reg;</span></p>
  <p class="hdr"><span class="TitleMain">API&nbsp;Development&nbsp;Kit</span><span class="TitleVersion">Version: 26</span></p>
</div>
<div id="content" class="inset">
          <script type="text/javascript">
            insertTOC ();
          </script>


    <h1>APIDb_RoomReductionsID</h1>

    <p>Returns reduction data assigned to a room of the current database.</p>
    <pre class="syntax">
    <strong>GSErrCode <a href="ACAPI_Database_id.html">ACAPI_Database</a></strong> (
        <strong>APIDb_RoomReductionsID</strong>,
        <strong>const <a href="../Structures/API_Guid.html">API_Guid</a>*</strong>            <em>guid</em>,
        <strong><a href="RoomReductionPolyProc.html">RoomReductionPolyProc</a>*</strong>     <em>roomReductionPolyProc</em>
    );
</pre>

    <p>&nbsp;</p>

    <h4>Parameters</h4>

    <dl>
        <dt><tt><em>guid</em></tt>&nbsp;<img border="0" src="../../APIImageLibrary/18.png" alt="18" width="19" height="12"></dt>

        <dd>The referenced zone GUID identifier</dd>

        <dt><em>roomReductionPolyProc</em></dt>

        <dd>Callback function to export reduction information</dd>
    </dl>

    <p>&nbsp;</p>

    <h4>Return Values</h4>

    <dl>
        <dt><code>NoError</code></dt>

        <dd>The function has completed with success.</dd>

        <dt><code>APIERR_BADPARS</code></dt>

        <dd>Any of the parameters are <code>nullptr</code>.</dd>

        <dt><code>APIERR_NESTING</code></dt>

        <dd>The function is called from the body of a <code>RoomReductionPolyProc</code>.</dd>

        <dt><code>APIERR_BADID</code></dt>

        <dd>The zone reference is invalid.</dd>

        <dt><code>APIERR_DELETED</code></dt>

        <dd>The zone is deleted.</dd>
    </dl>

    <p>For other common API errors see the <a href="../Level2/Error_Codes.html">API Errors</a> document.</p>

    <p>&nbsp;</p>

    <h4>Remarks</h4>

    <p>Zones have very complex relationships to other elements. This function is used to make easy to find what elements may reduce the zone area and how. These elements may be walls, colums, hatches, gables and rest. The overlapping places return only by either of them (see image below). The reduction polygons obtain by <a href="RoomReductionPolyProc.html">RoomReductionPolyProc</a> callback function.</p>

    <p>&nbsp;</p>

    <center>
        &nbsp;<img src="../../APIImageLibrary/RoomRedPoly.png" class="size2x" width="485" align="bottom" alt="Room reduction poly">
    </center>

    <p>&nbsp;</p>

    <h4>Example</h4>

    <blockquote>
        <pre><code>
static void  __ACENV_CALL  RoomRedCallBack (const API_RoomReductionPolyType *roomRed)

{
    char          s[32];
    GSErrCode     err;

    switch (roomRed-&gt;type) {
        case APIRoomReduction_Rest:    sprintf (s, "Rest");   break;
        case APIRoomReduction_Wall:    sprintf (s, "Wall");   break;
        case APIRoomReduction_Column:  sprintf (s, "Column"); break;
        case APIRoomReduction_Hatch:   sprintf (s, "Hatch");  break;
        case APIRoomReduction_Gable:   sprintf (s, "Gable");  break;
    }

    ACAPI_WriteReport (s, false);
    /* draw polygon by roomRed-&gt;nCoords, roomRed-&gt;coords, ... */

    BMKillHandle ((GSHandle*) &amp;roomRed-&gt;coords);
    BMKillHandle ((GSHandle*) &amp;roomRed-&gt;subPolys);
    BMKillHandle ((GSHandle*) &amp;roomRed-&gt;arcs);
    return;
}

...

GSErrCode   err = ACAPI_Database (APIDb_RoomReductionsID, &amp;element.header.guid, (void *) RoomRedCallBack);
</code></pre>
    </blockquote>

    <p>&nbsp;</p>

    <h4>Requirements</h4>

    <dl>
        <dd><b>Version:</b> API 4.1 or later</dd>

        <dd><b>Header:</b> APIdefs_Database.h</dd>
    </dl>

    <p>&nbsp;</p>

    <h4>See Also</h4>

    <p><a href="RoomReductionPolyProc.html">RoomReductionPolyProc</a><br>
    <a href="ACAPI_Database_id.html">ACAPI_Database</a><br>
    <a href="API_Functions.html">API Functions</a></p>

    

</div>
<div id="footer">
    <p class="hdr1">      <span class="Credits">Copyright &copy; 2022 - GRAPHISOFT SE. All rights reserved worldwide. <br />Modified on April 4, 2014<br/>
      </span>
    </p>
    <p id="toplink"><a href="#docBegin"><img src="../../StyleLibrary/Images/top.gif" alt="top" width="31" height="14" id="toTopImg" /></a></p>
</div>
</body>
</html>
