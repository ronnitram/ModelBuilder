<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd">
ï»¿<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
    <title>APIAny_OpenParametersID</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="Author" content="###_author_###">

    <meta http-equiv="Content-Language" content="en-US">
    <link rel="stylesheet" type="text/css" href="../../StyleLibrary/Style.css">
    <script type="text/javascript" src="../../StyleLibrary/Java.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/TOCscript.js"></script>
    <script type="text/javascript">
      LEVELSTR = "../../";
      ICONPATH = LEVELSTR + "StyleLibrary/Images/Treeview/";
    </script>
    <script type="text/javascript" src="../../StyleLibrary/TOC.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/tree_tpl.js"></script>
    <script type="text/javascript" src="../../StyleLibrary/tree.js"></script>
    <meta name="Microsoft.Help.F1" content="APIHTMLLibrary/Functions/APIAny_OpenParametersID.html">
    <xml>
      <MSHelp:Attr Name = "DocSet" Value = "Graphisoft"/>
    </xml>
</head>
<body>
<div id="docBegin">
  <p id="graphisoft_title">&nbsp;<span>Graphisoft&reg;</span></p>
  <p class="hdr"><span class="TitleMain">API&nbsp;Development&nbsp;Kit</span><span class="TitleVersion">Version: 26</span></p>
</div>
<div id="content" class="inset">
          <script type="text/javascript">
            insertTOC ();
          </script>


    <h1>APIAny_OpenParametersID</h1>

    <p>Opens a Library Part parameter list to edit.</p>
    <pre class="syntax">
    <strong>GSErrCode <a href="ACAPI_Goodies_id.html">ACAPI_Goodies</a></strong> (
        <strong>APIAny_OpenParametersID</strong>,
        <strong><a href="../Structures/API_ParamOwnerType.html">API_ParamOwnerType</a>*</strong>     <em>paramOwner</em>
    );
</pre>

    <p>&nbsp;</p>

    <h4>Parameters</h4>

    <dl>
        <dt><em>paramOwner</em></dt>

        <dd>[in] Reference to the owner of the parameter handle which should be edited</dd>
    </dl>

    <p>&nbsp;</p>

    <h4>Return Values</h4>

    <dl>
        <dt><code>NoError</code></dt>

        <dd>The function has completed with success.</dd>

        <dt><code>APIERR_BADPARS</code></dt>

        <dd><code>paramOwner</code> is nullptr or invalid parameters are passed</dd>

        <dt><code>APIERR_GENERAL</code></dt>

        <dd>the library part do not has parameters</dd>
    </dl>

    <p>For other common API errors see the <a href="../Level2/Error_Codes.html">API Errors</a> document.</p>

    <p>&nbsp;</p>

    <h4>Remarks</h4>

    <p>This function is used to prepare a parameter list to edit.</p>

    <p>Generally to change a parameter of a parameter list is a very complex task. It is because the <a href="../Structures/API_AddParType.html">API_AddParType</a> structure is quite complex, especially in case of array parameters, however this problem can be handled. Another issue is the parameter script. This script sets up rules and links which must be followed to provide a consistent parameter set, while editing it. There is no possibility to handle this issue in an addon.</p>

    <p>The only way to ensure full parameter consistency while changing a value of a Library Part parameter is to use the functions provided for this operation. If you manipulate the <a href="../Structures/API_AddParType.html">API_AddParType</a> handle directly, the parameter list may become invalid.</p>

    <p>The function set is:</p>

    <ul>
        <li><code>APIAny_OpenParametersID</code></li>

        <li><a href="APIAny_ChangeAParameterID.html">APIAny_ChangeAParameterID</a></li>

        <li><a href="APIAny_GetActParametersID.html">APIAny_GetActParametersID</a></li>

        <li><a href="APIAny_GetParamValuesID.html">APIAny_GetParamValuesID</a></li>

        <li><a href="APIAny_CloseParametersID.html">APIAny_CloseParametersID</a></li>
    </ul>

    <p>Once you want to change a parameter you should open the parameter list with the <code>APIAny_OpenParametersID</code> function. You can specify here various targets to work on:</p>

    <ul>
        <li>the parameters of a placed element (Library Part instance)</li>

        <li>the default parameters of an element (default tool settings)</li>

        <li>the default parameters of a Library Part itself</li>
    </ul>

    <p>Refer to the <a href="../Structures/API_ParamOwnerType.html">API_ParamOwnerType</a> structure how to specify the required target of operation.</p>

    <p>After you opened the the parameter list to edit you can use the <a href="APIAny_ChangeAParameterID.html">APIAny_ChangeAParameterID</a> function to change a value of a parameter. The reference to a variable can be either the name of the variable or its index.</p>

    <p>You can get the current (modified) parameter list in API form (<a href="../Structures/API_AddParType.html">API_AddParType</a> handle) any time by calling the <a href="APIAny_GetActParametersID.html">APIAny_GetActParametersID</a> function.</p>

    <p>You can check the possible values of a parameter (as defined in the Parameter Script of the Library Part) in API form (<a href="../Structures/API_GetParamValuesType.html">API_GetParamValuesType</a> handle) any time by calling the <a href="APIAny_GetParamValuesID.html">APIAny_GetParamValuesID</a> function.</p>

    <p>When you have finished working on a parameter list you should call the <a href="APIAny_CloseParametersID.html">APIAny_CloseParametersID</a> function to free any associated resources allocated by the server application.</p>

    <p>This function is a non-undoable data structure modifier function. See more details on this topic at <a href="../Level2/Command_Overview.html">Command Overview</a>.</p>

    <p>&nbsp;</p>

    <h4>Example</h4>

    <blockquote>
        <pre><code>
/* change parameter 'zzyzx' of the default object */

API_ParamOwnerType   paramOwner;
API_ChangeParamType  chgParam;
API_GetParamsType    getParams;
API_Element          element, mask;
API_ElementMemo      memo;
GSErrCode            err;

BNZeroMemory (&amp;paramOwner, sizeof (API_ParamOwnerType));
paramOwner.libInd = 0;                 /* no library part */
paramOwner.type   = API_ObjectID;      /* object element */
paramOwner.guid   = APINULLGuid;       /* element default */

BNZeroMemory (&amp;getParams, sizeof (API_GetParamsType));

err = ACAPI_Goodies (APIAny_OpenParametersID, &amp;paramOwner, nullptr);
if (err == NoError) {
    BNZeroMemory (&amp;chgParam, sizeof (API_ChangeParamType));

    err = ACAPI_Goodies (APIAny_GetActParametersID, &amp;getParams, nullptr);
    if (err == NoError) {
        chgParam.index = 0;
        CHCopyC ("zzyzx", chgParam.name);
        chgParam.realValue = 2.0;
        err = ACAPI_Goodies (APIAny_ChangeAParameterID, &amp;chgParam, nullptr);
        if (err == NoError)
            err = ACAPI_Goodies (APIAny_GetActParametersID, &amp;getParams, nullptr);
    }
    ACAPI_Goodies (APIAny_CloseParametersID, nullptr, nullptr);
}

if (err == NoError) {
    BNZeroMemory (&amp;element, sizeof (API_Element));
    BNZeroMemory (&amp;memo, sizeof (API_ElementMemo));
    element.header.type   = API_ObjectID;
    element.object.xRatio = getParams.a;
    element.object.yRatio = getParams.b;
    ACAPI_ELEMENT_MASK_CLEAR (mask);
    ACAPI_ELEMENT_MASK_SET (mask, API_ObjectType, xRatio);
    ACAPI_ELEMENT_MASK_SET (mask, API_ObjectType, yRatio);
    memo.params = getParams.params;
    err = ACAPI_Element_ChangeDefaults (&amp;element, &amp;memo, &amp;mask);
}

ACAPI_DisposeAddParHdl (&amp;getParams.params);
</code></pre>
    </blockquote>

    <p>&nbsp;</p>

    <h4>Requirements</h4>

    <dl>
        <dd><b>Version:</b> API 4.1 or later</dd>

        <dd><b>Header:</b> APIdefs_Goodies.h</dd>
    </dl>

    <p>&nbsp;</p>

    <h4>See Also</h4>

    <p><a href="../Structures/API_ParamOwnerType.html">API_ParamOwnerType</a>, <a href="../Structures/API_AddParType.html">API_AddParType</a>, <a href="../Structures/API_GetParamValuesType.html">API_GetParamValuesType</a>,<br>
    <a href="APIAny_GetParamValuesID.html">APIAny_GetParamValuesID</a>, <a href="APIAny_ChangeAParameterID.html">APIAny_ChangeAParameterID</a>, <a href="APIAny_GetActParametersID.html">APIAny_GetActParametersID</a>, <a href="APIAny_CloseParametersID.html">APIAny_CloseParametersID</a>,<br>
    <a href="ACAPI_Goodies_id.html">ACAPI_Goodies</a>, <a href="API_Functions.html">API Functions</a></p>

    

</div>
<div id="footer">
    <p class="hdr1">      <span class="Credits">Copyright &copy; 2022 - GRAPHISOFT SE. All rights reserved worldwide. <br />Modified on November 6, 2014<br/>
      </span>
    </p>
    <p id="toplink"><a href="#docBegin"><img src="../../StyleLibrary/Images/top.gif" alt="top" width="31" height="14" id="toTopImg" /></a></p>
</div>
</body>
</html>
